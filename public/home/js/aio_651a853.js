define("list:widget/char-sort/char-sort.js",function(t){var n=t("common:widget/js/util/tangram/tangram.js"),i=t("common:widget/js/ui/scrollbar/scrollbar.js"),s=n(".char-sor-tag-container");s.on("click",".nav-list-item",function(t){t.preventDefault();var s=n(this),e=s.data("key"),r=s.parents(".char-sor-tag-container"),a=r.find(".content-list-item-"+e);r.find(".content-list-item").removeClass("cur"),r.find(".nav-list-item").removeClass("cur"),a.addClass("cur"),s.addClass("cur"),s.hasClass("scroll-init")||(s.addClass("scroll-init"),setTimeout(function(){new i({scrollWrapper:a,scrollContent:a.find(".content-list-item-tags"),maxHeight:115,autoHide:!1}).render()},200))}),s.find(".nav-list-item.cur").addClass("scroll-init"),new i({scrollWrapper:s.find(".content-list-item.cur"),scrollContent:s.find(".content-list-item.cur").find(".content-list-item-tags"),maxHeight:115,autoHide:!1}).render()});
;define("list:widget/interest/set-tag/set-tag.js",function(e,t,i){var l=e("common:widget/js/util/tangram/tangram.js"),s=e("common:widget/js/ui/scrollbar/scrollbar.js"),a=e("common:widget/js/ui/dialog/dialog.js");e("common:widget/lib/jquery.ui/jquery.ui.sortable.js");var n={init:function(e){this.btnStr=e.btn,this.$tagBox=l("#tag-list-wrapper"),this.selectedTagList=e.tagList||[],this.cid=e.cid||0,this.bind(),this.saveCallback=e.saveCallback||function(){}},bind:function(){var e=this;l(document).on("click",this.btnStr,l.proxy(e.openDialog,e))},saveTag:function(){var e,t=l(".dialog-selected-tag-item"),i=[];t.each(function(t,s){e=l.trim(l(s).text()),e&&i.push(e)}),this.selectedTagList=i,l.post("/submit/user",{tags:i.join("	"),cm:100522,stoken:F.context("user")&&F.context("user").stoken},function(){})},showLevel1Select:function(e){this.showCate(e),e.find(".select-box-content.box-type-1").animate({opacity:1},400,function(){l(this).show()}),e.find(".select-box-content.box-type-2").show().animate({opacity:0},400,function(){l(this).hide()}),e.find(".back-level-1-select").hide(400),e.find(".title-select-wrap").show(400),e.find(".selecting-box-title").removeClass("show-selected")},showCateWrap:function(e){e.find(".select-box-content.box-type-1").animate({opacity:0},400,function(){l(this).hide()}),e.find(".select-box-content.box-type-2").show().animate({opacity:1},400,function(){l(this).show()})},renderCate:function(e){var t=e.find(".dialog-cate");this.showCateWrap(e);var i=[];this.cateScrollBar&&this.removeCateScrollBar(this.cateScrollBar),l.each(F.context("tagClass")[this.cid].child,function(e,t){i.push('<li class="level-2-class" data-cid="'+t.cid+'">'+t.name+"</li>")});var a=t.find("ul");a.html(i.join(""));var n=this.cateScrollBar=new s({scrollWrapper:t,scrollContent:a,maxHeight:305,autoHide:!1});n.render()},removeCateScrollBar:function(e){var t=e.options.scrollWrapper;t.removeAttr("style"),t.children("ul").removeAttr("style"),t.children(".scrollbar-wp").remove()},renderFilterTags:function(e,t){var i=this;i.tagfilterScrollbar&&i.removeScrollBar(i.tagfilterScrollbar);var a=e.find(".filter-tag-list"),n={type:1};l.extend(n,t),l.ajax({url:"/api/getTag",data:n,cache:!0,type:"post",dataType:"json"}).done(function(t){if(t&&!t.errno){var o,c=a.find("ul");if(2==n.type)o=t.data.tags;else{o=[];for(var r,d=0;r=t.data[d];d++)o.push(r.tagname);0==o.length&&o.push(n.wd)}if(o.length<1)return void c.html('<li class="disable-item selected">\u6ca1\u6709\u7b26\u5408\u7b5b\u9009\u6761\u4ef6\u7684\u6807\u7b7e</li>');var h=[];l.each(o,function(e,t){h.push('<li class="waiting-selecting-tag tag-item">'+t+"</li>")}),c.html(h.join(""));var g=new s({scrollWrapper:a,scrollContent:c,maxHeight:305,autoHide:!1});g.render(),i.tagfilterScrollbar=g,i.showHighLight(e)}});e.find(".dialog-cate").find("li")},removeScrollBar:function(e,t){var i=e.options.scrollWrapper;i.removeAttr("style"),!t&&i.children("ul").removeAttr("style"),i.children(".scrollbar-wp").remove();var l=i.prev();i.remove().insertAfter(l)},showHighLight:function(e){var t=e.find(".filter-tag-list").find("li"),i=e.find(".tag-selected-list").find("li");l.each(t,function(e,t){l.each(i,function(e,s){l(t).text()===l(s).text()&&(l(t).addClass("selected"),i=i.not(s))})})},removeHighLight:function(e,t){var i=e.find(".filter-tag-list").find("li");l.each(i,function(e,i){return l(i).text()===t?(l(i).removeClass("selected"),!1):void 0})},showCate:function(e){e.find(".dialog-cate-wrapper").css({width:139}),e.find(".filter-tag-list").css({width:480}),e.find(".back-level-1-select").hide(400),e.find(".title-select-wrap").show(400)},hideCate:function(e){e.find(".dialog-cate-wrapper").css({width:0}),e.find(".filter-tag-list").css({width:619}),e.find(".back-level-1-select").show(400),e.find(".title-select-wrap").hide(400)},bindDialogEvents:function(e){var t=this;e.on("click",".dialog-cate .level-2-class",function(){l(this).hasClass("current")||(t.renderFilterTags(e,{cid:l(this).data("cid"),type:2}),l(this).parent().children(".current").removeClass("current"),l(this).addClass("current"))}).on("click",".back-level-1-select",function(){t.showLevel1Select(t.dialog)}).on("click",".level-1-class-item",function(){var i=l(this).data("cid");t.cid=i,t.renderCate(t.dialog),t.renderFilterTags(t.dialog,{type:2,cid:t.cid}),e.find(".selecting-box-title").addClass("show-selected").find(".current-class-name-text").html(l(this).text())}).on("click",".sub-class-item-link",function(){var t=l(this).data("cid");e.find(".level-1-class-item[data-cid="+t+"]").click(),e.find(".selecting-box-title").removeClass("show-level-1-class")}).on("click",".filter-tag-list .waiting-selecting-tag",function(){if(!l(this).hasClass("selected")){if(e.find(".dialog-selected-tag-item").length>=30)return e.find(".selected-tag-title .title-text").find("span").remove(),e.find(".selected-tag-title .title-text").append('<span style="color:red;font-size:12px;">\u6700\u591a\u6dfb\u52a030\u4e2a\u6807\u7b7e</span>'),void setTimeout(function(){e.find(".selected-tag-title .title-text").find("span").remove()},2e3);var i=e.find(".selected-tag-list").find("li"),s=i.length;i.filter(".no-delete-li").removeClass("no-delete-li"),l(this).addClass("selected");var a=l(this).text();t.insertTag(e,a,1==s)}}).on("click",".tag-selected-list .del-my-tag",function(){l(this).parent().css({overflow:"hidden"}).animate({width:0,padding:0},{complete:function(){t.removeHighLight(e,l(this).text()),l(this).remove();e.find(".selected-tag-list").find(".tag-item")},duration:250})}).on("click",".filter-btn",function(){var i=l(this).prev(".filter-input").val();i=l.trim(i),i&&(t.hideCate(t.dialog),t.showCateWrap(t.dialog),t.renderFilterTags(e,{type:1,wd:i}))}).on("keyup",".filter-input",function(e){13==e.which&&l(this).siblings(".filter-btn").click()}).on("mouseover",".dialog-change-class",function(){l(this).parents(".selecting-box-title").addClass("show-level-1-class")}).on("mouseleave",".dialog-change-class",function(){l(this).parents(".selecting-box-title").removeClass("show-level-1-class")}).on("mouseover",".level-1-class",function(){l(this).parents(".selecting-box-title").addClass("show-level-1-class")}).on("mouseleave",".level-1-class",function(){l(this).parents(".selecting-box-title").removeClass("show-level-1-class")})},insertTag:function(e,t,i){l((i?'<li class="tag-item no-delete-li dialog-selected-tag-item">':'<li class="tag-item dialog-selected-tag-item">')+t+'<em class="del del-my-tag"></em></li>').appendTo(e.find(".selected-tag-list")),this.selectedTagsScrollbar&&this.removeScrollBar(this.selectedTagsScrollbar,1);var a=e.find(".tag-selected-list"),n=a.find("ul"),o=new s({scrollWrapper:a,scrollContent:n,maxHeight:305,autoHide:!1});o.render(),n.css({top:305-n.height()});var c=a.find(".scrollbar");c.css({top:305-c.height()}),this.selectedTagsScrollbar=o,n.sortable({placeholder:"ui-state-highlight"})},renderSelectedTags:function(e){for(var t,i=e.find(".tag-selected-list"),l=this.selectedTagList,a=i.find(".selected-tag-list"),n="",o=0;t=l[o];o++)n+='<li class="tag-item dialog-selected-tag-item">'+t+'<em class="del del-my-tag"></em></li>';a.html(n),1==l.length&&i.find("li").eq(1).addClass("no-delete-li");var c=new s({scrollWrapper:i,scrollContent:a,maxHeight:305,autoHide:!1});c.render(),this.selectedTagsScrollbar=c,a.sortable({placeholder:"ui-state-highlight"})},openDialog:function(){{var e=this;new a({title:"\u6211\u7684\u5174\u8da3",dialogClass:"tag-setup-dialog",content:l("#j-set-tag-dialog-tpl").html(),autoDispose:!0,width:1e3,height:520,open:function(){var t=e.dialog=l(this);e.renderSelectedTags(t),e.bindDialogEvents(t)},close:function(){l(this).off("click"),e.tagfilterScrollbar=null,e.selectedTagsScrollbar=null},buttons:[{text:"\u786e\u5b9a",click:function(){l(this).find(".selected-tag-list");e.saveTag(),e.saveCallback(e.selectedTagList),l(this).dialog("close")}},{text:"\u53d6\u6d88",click:function(){l(this).dialog("close")}}]})}}};i.exports=n});
;define("list:widget/js/jquery.pjax.js",function(t){var e=t("common:widget/lib/jquery/jquery.js");!function(t){function n(e,n,a){var i=this;return this.on("click.pjax",e,function(e){var o=t.extend({},v(n,a));o.container||(o.container=t(this).attr("data-pjax")||i),r(e,o)})}function r(e,n,r){r=v(n,r);var a=e.currentTarget;if("A"!==a.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==a.protocol||location.hostname!==a.hostname||a.href.indexOf("#")>-1&&m(a)==m(location)||e.isDefaultPrevented())){var o={url:a.href,container:t(a).attr("data-pjax"),target:a},c=t.extend({},o,r),s=t.Event("pjax:click");t(a).trigger(s,[c]),s.isDefaultPrevented()||(i(c),e.preventDefault(),t(a).trigger("pjax:clicked",[c]))}}function a(e,n,r){r=v(n,r);var a=e.currentTarget;if("FORM"!==a.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var o={type:a.method.toUpperCase(),url:a.action,container:t(a).attr("data-pjax"),target:a};if("GET"!==o.type&&void 0!==window.FormData)o.data=new FormData(a),o.processData=!1,o.contentType=!1;else{if(t(a).find(":file").length)return;o.data=t(a).serializeArray()}i(t.extend({},o,r)),e.preventDefault()}function i(e){function n(e,n,a){a||(a={}),a.relatedTarget=r;var i=t.Event(e,a);return o.trigger(i,n),!i.isDefaultPrevented()}e=t.extend(!0,{},t.ajaxSettings,i.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var r=e.target,a=h(e.url).hash,o=e.context=x(e.container);e.data||(e.data={}),t.isArray(e.data)?e.data.push({name:"_pjax",value:o.selector}):e.data._pjax=o.selector;var s;e.beforeSend=function(t,r){if("GET"!==r.type&&(r.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",o.selector),!n("pjax:beforeSend",[t,r]))return!1;r.timeout>0&&(s=setTimeout(function(){n("pjax:timeout",[t,e])&&t.abort("timeout")},r.timeout),r.timeout=0);var i=h(r.url);a&&(i.hash=a),e.requestUrl=d(i)},e.complete=function(t,r){s&&clearTimeout(s),n("pjax:complete",[t,r,e]),n("pjax:end",[t,e])},e.error=function(t,r,a){var i=y("",t,e),o=n("pjax:error",[t,r,a,e]);"GET"==e.type&&"abort"!==r&&o&&c(i.url)},e.success=function(r,s,u){var l=i.state,f="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,d=u.getResponseHeader("X-PJAX-Version"),m=y(r,u,e),v=h(m.url);if(a&&(v.hash=a,m.url=v.href),f&&d&&f!==d)return void c(m.url);if(!m.contents)return void c(m.url);i.state={id:e.id||p(),url:m.url,title:m.title,container:o.selector,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(i.state,m.title,m.url);var x=t.contains(e.container,document.activeElement);if(x)try{document.activeElement.blur()}catch(j){}m.title&&(document.title=m.title),n("pjax:beforeReplace",[m.contents,e],{state:i.state,previousState:l}),o.html(m.contents);var g=o.find("input[autofocus], textarea[autofocus]").last()[0];g&&document.activeElement!==g&&g.focus(),w(m.scripts);var b=e.scrollTo;if(a){var T=decodeURIComponent(a.slice(1)),E=document.getElementById(T)||document.getElementsByName(T)[0];E&&(b=t(E).offset().top)}"number"==typeof b&&t(window).scrollTop(b),n("pjax:success",[r,s,u,e])},i.state||(i.state={id:p(),url:window.location.href,title:document.title,container:o.selector,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(i.state,document.title)),l(i.xhr),i.options=e;var u=i.xhr=t.ajax(e);return u.readyState>0&&(e.push&&!e.replace&&(b(i.state.id,f(o)),window.history.pushState(null,"",e.requestUrl)),n("pjax:start",[u,e]),n("pjax:send",[u,e])),i.xhr}function o(e,n){var r={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return i(t.extend(r,v(e,n)))}function c(t){window.history.replaceState(null,"",i.state.url),window.location.replace(t)}function s(e){A||l(i.xhr);var n,r=i.state,a=e.state;if(a&&a.container){if(A&&q==a.url)return;if(r){if(r.id===a.id)return;n=r.id<a.id?"forward":"back"}var o=R[a.id]||[],s=t(o[0]||a.container),u=o[1];if(s.length){r&&T(n,r.id,f(s));var p=t.Event("pjax:popstate",{state:a,direction:n});s.trigger(p);var d={id:a.id,url:a.url,container:s,push:!1,fragment:a.fragment,timeout:a.timeout,scrollTo:!1};if(u){s.trigger("pjax:start",[null,d]),i.state=a,a.title&&(document.title=a.title);var h=t.Event("pjax:beforeReplace",{state:a,previousState:r});s.trigger(h,[u,d]),s.html(u),s.trigger("pjax:end",[null,d])}else i(d);s[0].offsetHeight}else c(location.href)}A=!1}function u(e){var n=t.isFunction(e.url)?e.url():e.url,r=e.type?e.type.toUpperCase():"GET",a=t("<form>",{method:"GET"===r?"GET":"POST",action:n,style:"display:none"});"GET"!==r&&"POST"!==r&&a.append(t("<input>",{type:"hidden",name:"_method",value:r.toLowerCase()}));var i=e.data;if("string"==typeof i)t.each(i.split("&"),function(e,n){var r=n.split("=");a.append(t("<input>",{type:"hidden",name:r[0],value:r[1]}))});else if(t.isArray(i))t.each(i,function(e,n){a.append(t("<input>",{type:"hidden",name:n.name,value:n.value}))});else if("object"==typeof i){var o;for(o in i)a.append(t("<input>",{type:"hidden",name:o,value:i[o]}))}t(document.body).append(a),a.submit()}function l(e){e&&e.readyState<4&&(e.onreadystatechange=t.noop,e.abort())}function p(){return(new Date).getTime()}function f(t){var n=t.clone();return n.find("script").each(function(){this.src||e._data(this,"globalEval",!1)}),[t.selector,n.contents()]}function d(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),t.href.replace(/\?($|#)/,"$1")}function h(t){var e=document.createElement("a");return e.href=t,e}function m(t){return t.href.replace(/#.*/,"")}function v(e,n){return e&&n?n.container=e:n=t.isPlainObject(e)?e:{container:e},n.container&&(n.container=x(n.container)),n}function x(e){if(e=t(e),e.length){if(""!==e.selector&&e.context===document)return e;if(e.attr("id"))return t("#"+e.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+e.selector}function j(t,e){return t.filter(e).add(t.find(e))}function g(e){return t.parseHTML(e,document,!0)}function y(e,n,r){var a={},i=/<html/i.test(e),o=n.getResponseHeader("X-PJAX-URL");if(a.url=o?d(h(o)):r.requestUrl,i)var c=t(g(e.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),s=t(g(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var c=s=t(g(e));if(0===s.length)return a;if(a.title=j(c,"title").last().text(),r.fragment){if("body"===r.fragment)var u=s;else var u=j(s,r.fragment).first();u.length&&(a.contents="body"===r.fragment?u:u.contents(),a.title||(a.title=u.attr("title")||u.data("title")))}else i||(a.contents=s);return a.contents&&(a.contents=a.contents.not(function(){return t(this).is("title")}),a.contents.find("title").remove(),a.scripts=j(a.contents,"script[src]").remove(),a.contents=a.contents.not(a.scripts)),a.title&&(a.title=t.trim(a.title)),a}function w(e){if(e){var n=t("script[src]");e.each(function(){var e=this.src,r=n.filter(function(){return this.src===e});if(!r.length){var a=document.createElement("script"),i=t(this).attr("type");i&&(a.type=i),a.src=t(this).attr("src"),document.head.appendChild(a)}})}}function b(t,e){R[t]=e,X.push(t),E(U,0),E(X,i.defaults.maxCacheLength)}function T(t,e,n){var r,a;R[e]=n,"forward"===t?(r=X,a=U):(r=U,a=X),r.push(e),(e=a.pop())&&delete R[e],E(r,i.defaults.maxCacheLength)}function E(t,e){for(;t.length>e;)delete R[t.shift()]}function S(){return t("meta").filter(function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function P(){t.fn.pjax=n,t.pjax=i,t.pjax.enable=t.noop,t.pjax.disable=C,t.pjax.click=r,t.pjax.submit=a,t.pjax.reload=o,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:S},t(window).on("popstate.pjax",s)}function C(){t.fn.pjax=function(){return this},t.pjax=u,t.pjax.enable=P,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",s)}var A=!0,q=window.location.href,D=window.history.state;D&&D.container&&(i.state=D),"state"in window.history&&(A=!1);var R={},U=[],X=[];t.inArray("state",t.event.props)<0&&t.event.props.push("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),t.support.pjax?P():C()}(e)});
;define("list:widget/interest/interest.js",function(t,e){function i(t){var e=r.find(".interest-list").height();e>2*r.find(".interest-item").height()?(r.find(".interest-operate").show(),1==t&&r.find(".interest-operate").removeClass("close").addClass("open").find(".operate-text").html("\u6536\u8d77")):r.find(".interest-operate").hide(),0==r.find(".real-interest-item").length?r.find(".interest-item-all").hide():r.find(".interest-item-all").show()}function n(t){r.find(".real-interest-item").remove();var e="",n="";F.context("myInterest",t);for(var s,l=0;s=t[l];l++)e+='<a href="javascript:;" data-tag="'+s+'" class="interest-item interest-item-action real-interest-item">'+s+"</a>",n+=s+"_";n=n.slice(0,-1),r.find(".add-interest").before(e),r.find(".interest-item-all").attr("data-tag",n);var e=r.html();return r.html(e).css({height:"auto"}),a.support.pjax?(r.find(".interest-item-all").click(),void i(1)):void setTimeout(function(){location.reload()},200)}var a=t("common:widget/js/util/tangram/tangram.js"),s=t("list:widget/interest/set-tag/set-tag.js"),r=a(".interest-wgt");t("list:widget/js/jquery.pjax.js"),i(),r.on("click",".interest-operate",function(){var t=a(this),e=t.find(".operate-text"),i=r.find(".interest-list").height();t.toggleClass("open").toggleClass("close"),e.html().indexOf("\u5c55\u5f00")>=0?r.animate({height:i-12},400,function(){e.html("\u6536\u8d77")}):r.animate({height:26},400,function(){e.html("\u5c55\u5f00")})}),s.init({btn:".add-interest",tagList:F.context("myInterest"),saveCallback:n}),a(document).on("click",".interest-item-action",function(t){t.preventDefault();var e=a(this);if(!e.hasClass("select")){F.context("myInterestTag",a.trim(e.data("tag"))),a(".search-text").val(""),r.find(".interest-item-action").removeClass("select"),e.addClass("interest-item-action").addClass("select");var i=(a(".nav-item.cur").find(".nav-link").data("type"),r.position().top),n={};a.url.getQueryValue(location.href,"cid")&&(n.cid=a.url.getQueryValue(location.href,"cid")),F.context("myInterestTag")&&(n.tag=F.context("myInterestTag")),a.url.getQueryValue(location.href,"type")&&(n.type=a.url.getQueryValue(location.href,"type")),a.pjax({url:"/list",data:n,cache:!1,container:"#j-question-list-pjax-container",scrollTo:i,push:!1})}}),e.updateTag=n});
;define("list:widget/crumbs/crumbs.js",function(s){function t(s){s=s||0;var t=n.find(".my-tag-status"),a=F.context("myInterest");1==s&&(t.addClass("focus-status").html(t.html().replace("\u5173\u6ce8","\u5df2\u5173\u6ce8")),e.ajax({url:"/submit/user",type:"POST",data:{tags:a.join("	"),cm:100522}}).done(function(){F.context("myInterest",a),u.updateTag(a)}))}var e=s("common:widget/js/util/tangram/tangram.js"),a=s("common:widget/lib/juicer/juicer.js"),r=a(e("#j-char-sort-tag").html()),u=s("list:widget/interest/interest.js"),i=s("common:widget/js/ui/dialog/dialog.js"),n=e(".crumbs-widget-wp");n.on("mouseover",".cur-crumbs",function(s){s.preventDefault();var t=e(this).parents(".crumbs-item");t.hasClass("last-crumbs-item")||(t.find(".cur-crumbs-cover").css({width:e(this).width()-3}),t.addClass("show-sub"))}),n.on("mouseleave",".cur-crumbs",function(s){s.preventDefault(),e(this).parents(".crumbs-item").removeClass("show-sub")}),n.on("mouseover",".sub-crumbs",function(s){s.preventDefault();var t=e(this).parents(".crumbs-item");t.hasClass("last-crumbs-item")||t.addClass("show-sub")}),n.on("mouseleave",".sub-crumbs",function(s){s.preventDefault(),e(this).parents(".crumbs-item").removeClass("show-sub")});var o=F.context("tagList");if(o){var c=r.render({tagList:o});n.find(".char-sor-tag-container").html(c)}n.find(".my-tag-status").click(function(){var s=F.context("myInterest"),a=e(this).data("tag");return e(this).hasClass("focus-status")?void 0:s.length>=30?void i.alert("\u5bf9\u4e0d\u8d77\uff0c\u6700\u591a\u652f\u6301\u8bbe\u7f6e30\u4e2a\u6807\u7b7e\uff01"):void(e(this).hasClass("focus-status")||(s.push(a),t(1)))})});
;define("list:widget/pop-tip/pop-tip.js",function(o,t,e){{var i=o("common:widget/js/util/tangram/tangram.js");o("common:widget/js/util/event/event.js")}e.exports=function(o,t){var e=i.extend({},t);i("#pop-layer-box").remove();var p=i("<div />").prop({id:"pop-layer-box"}).addClass("pop-layer-box").html(o).appendTo(document.body),a=i(window).height()/2+i(window).scrollTop()-100,n=(i(window).width()-p.width()-60)/2;a=a>50?a:50,n=n>400?n:400,p.css({left:n+"px",top:a+"px",opacity:0}),p.animate({top:a-25,opacity:1},200),setTimeout(function(){p.animate({top:a,opacity:0},200,function(){p.remove(),e.callback&&e.callback()})},2e3)}});
;define("list:widget/list/list.js",function(e){function t(e,t){var n=e.data("qid"),i=e.find(".question-answer-section");t=t||0,a.ajax({url:"/question/api/imini",dataType:"json",data:{qid:n},cache:!1}).done(function(n){n.errno>0||setTimeout(function(){i.slideDown("400",function(){});var t=n.data,o=t.reply&&t.reply.answers&&t.reply.answers.list||{},s=t.ask.contentRich||t.ask.content;if(s=p.autoTrans(s,1),s&&e.find(".question-content-section").html(s).slideDown("400",function(){}),o=a.extend(o,t.reply.best||{},t.reply.recommend||{},t.reply.special||{}),e.find(".answer-num").html(t.ask.replyCount+" \u56de\u7b54"),t.ask.replyCount>0){var r,l=0;for(r in o)o.hasOwnProperty(r)&&(o[r].sortIndex=l),l++;a.url.getQueryValue(location.href,"type")&&e.find(".question-answer-show").show().html("feed"==a.url.getQueryValue(location.href,"type")?g.render({count:t.ask.replyCount}):g.render({list:o,count:t.ask.replyCount}))}t.user.isReplyer>0&&e.addClass("hide-input")},t)}).fail(function(){})}function n(e){var n=e.find(".question-answer-section"),i=e.find(".question-content-section"),o=a(window).height(),s=a(document).scrollTop(),r=e.offset().top,l=0;e.hasClass("open")?(e.removeClass("open"),i.slideUp(400),n.slideUp("400",function(){})):(h.find(".question-list-item.open").removeClass("open").find(".question-answer-section").hide(),e.addClass("open viewed"),r-s-o>-400&&(m.animate({scrollTop:r+400-o},200,function(){}),l=200),t(e,l))}function i(e,t){var n,i=e.data("qid"),o=e.data("cid"),s=a.url.getQueryValue(location.href,"type")||"default",r=a.url.getQueryValue(location.href,"cid")||0,d=a.url.getQueryValue(location.href,"tag")||"";n=d?3:r>0&&1e3>r?1:r>1e3&&1e6>r?2:r;var p={cm:100009,qid:i,cid:o,path:"/question/"+i+".html",co:e.find(".answer-question-content").val(),fr:"question-list-page",utdata:l.report().c,entry:"list_"+s+"_"+n};e.find(".anoy-check-btn")[0].checked&&(p.anoy=1),new u({url:"/submit/ajax",params:p,syncId:i,beforeJump:function(n,o){e.find(".close-question").click(),c('<i class="i-yes"></i>\u56de\u7b54\u63d0\u4ea4\u6210\u529f\uff01',{callback:function(){}}),f.send({module:"list",page:"list-reply",area:"submit",action:"submit-success",ncAnalyseCode:t&&t.ncAnalyseCode,rid:o.aid,qid:i})}})}function o(e){var t=h.find(".question-list-pager"),n=F.context("questionListInfo");return n.totalCount<30?void(y&&y.destroy()):(y=new r({pContainer:t,conTotalCount:n.totalCount,conPerPage:30,activeIndex:e,pMaxCount:10,onIndexChange:function(e){var t="/list",n=F.context("myInterestTag")||F.context("pageInitInterest"),i={};n&&(i.tag=n),a.trim(h.find(".search-text").val())&&(i.keyWord=a.trim(h.find(".search-text").val())),a.url.getQueryValue(location.href,"cid")&&(i.cid=a.url.getQueryValue(location.href,"cid")),a.url.getQueryValue(location.href,"type")&&(i.type=a.url.getQueryValue(location.href,"type")),i.rn=30,i.pn=30*(e-1),i.ie="utf8",a.pjax({url:t,data:i,container:"#j-question-list-pjax-container",scrollTo:h.offset().top,push:!1,target:"pager"})}}),void y.show())}var a=e("common:widget/js/util/tangram/tangram.js"),s=e("common:widget/lib/juicer/juicer.js"),r=e("common:widget/js/ui/pager/normalPager.js"),l=(e("common:widget/js/logic/authcode/authcode.js"),e("common:widget/js/logic/ut/ut.js")),c=e("list:widget/pop-tip/pop-tip.js"),u=e("common:widget/js/logic/submit/submit.js"),d=e("common:widget/js/util/event/event.js"),p=e("common:widget/js/util/https/https.js"),f=e("common:widget/js/util/log/log.js");a.support.pjax&&(a.pjax.defaults.timeout=2e3),e("list:widget/js/jquery.pjax.js");var h=a(".list-section-widget-wp");3==F.context("curClass").level&&F.context("pageInitInterest",F.context("curClass").name),"feed"==a.url.getQueryValue(location.href,"type")?(a(".tag-all-view-widget-wp").hide(),a(".interest-widget-wp").hide(),a(".search-operate").hide(),a(".refresh-operate").css({"float":"left"})):(a(".tag-all-view-widget-wp").show(),a(".interest-widget-wp").show(),a(".search-operate").show(),a(".refresh-operate").css({"float":"right"})),a(document).on("click",".nav-link",function(e){e.preventDefault();var t=a(this);if(!t.parents(".nav-item").hasClass("cur")){h.find(".search-text").val(""),h.find(".nav-item").removeClass("cur"),t.parents(".nav-item").addClass("cur"),"feed"==t.data("type")?(a(".tag-all-view-widget-wp").hide(),a(".interest-widget-wp").hide(),a(".search-operate").hide(),a(".refresh-operate").css({"float":"left"})):(a(".tag-all-view-widget-wp").show(),a(".interest-widget-wp").show(),a(".search-operate").show(),a(".refresh-operate").css({"float":"right"}));var n=t.attr("href"),i={},o=F.context("myInterestTag")||h.find(".search-text").val()||F.context("pageInitInterest"),s="POST";a.support.pjax||(s="GET",i.type=t.data("type"),a.url.getQueryValue(location.href,"cid")&&(i.cid=a.url.getQueryValue(location.href,"cid"))),o&&(i.tag=o),a.pjax({url:n,data:i,type:s,container:"#j-question-list-pjax-container",scrollTo:!1})}}),h.on("keyup",".search-text",function(e){13==e.which&&h.find(".goto-search").click()}),h.on("click",".goto-search",function(e){e.preventDefault();var t=a(this),n=t.siblings(".search-text").val();a(".interest-item-action.select").removeClass("select"),F.context("myInterestTag",void 0);var i=(F.context("pageInitInterest"),{keyWord:n,ie:"utf8"});a.support.pjax||(i.type=a.url.getQueryValue(location.href,"type")||"default",i.ie=void 0),a.url.getQueryValue(location.href,"cid")&&(i.cid=a.url.getQueryValue(location.href,"cid")),a.url.getQueryValue(location.href,"type")&&(i.type=a.url.getQueryValue(location.href,"type")),a.pjax({url:"/list",data:i,container:"#j-question-list-pjax-container",scrollTo:!1,push:!1})}),a(document).on("click",".refresh-btn",function(e){e.preventDefault();var t=a(this),n="/list";t.addClass("ing"),setTimeout(function(){t.removeClass("ing")},400);var i={},o=F.context("myInterestTag")||F.context("pageInitInterest");o&&(i.tag=o),a.url.getQueryValue(location.href,"cid")&&(i.cid=a.url.getQueryValue(location.href,"cid")),a.url.getQueryValue(location.href,"type")&&(i.type=a.url.getQueryValue(location.href,"type")),a.trim(h.find(".search-text").val())&&(i.keyWord=a.trim(h.find(".search-text").val())),a.pjax({url:n,data:i,container:"#j-question-list-pjax-container",scrollTo:!1,push:!1})});{var g=s(a("#j-question-answers-template").html());h.find(".question-list-wgt")}h.on("click",".question-list-item",function(e){{var t=a(this),o=a(e.target);t.data("qid")}o.hasClass("question-answer-submit")?d.fire("login.check",{isLogin:function(){window.nccheck?nccheck(function(e){var n={};n.ncAnalyseCode=e&&e.code,i(t,n)}):i(t)},noLogin:function(){d.fire("login.log",{onLoginSuccess:function(){window.nccheck?nccheck(function(e){var n={};n.ncAnalyseCode=e&&e.code,i(t,n)}):i(t)}})}}):(e.preventDefault(),n(t))}),h.on("click",".question-answer-show, .anoy-check, .answer-question-content, .title-link, .question-tags",function(e){e.stopPropagation(),a(this).hasClass("title-link")&&a(this).parents(".question-list-item").addClass("viewed")});var m=a("body");a(document).on("pjax:send",function(){}),a(document).on("pjax:complete",function(e){var t=F.context("questionListInfo").totalCount,n=h.find(".search-text").val();"pager"!=e.relatedTarget&&(o(1),a(".question-count .count-num").html(t>=1e3?t+"+":t)),n&&h.find(".title-link").each(function(e,t){var i=a(t);i.html(i.html().replace(n,'<span style="color:red;">'+n+"</span>"))}),a(".question-list-content .tag-item").each(function(e,t){a(t).attr("href","/list?ie=utf8&tag="+encodeURIComponent(a.trim(a(t).text())))})});var y;o(1)});
;define("list:widget/tag-view/tag-view.js",function(t){var a=t("common:widget/js/util/tangram/tangram.js"),i=t("common:widget/lib/juicer/juicer.js"),e=i(a("#j-char-sort-tag").html()),g=a(".tag-all-view-widget-wp"),r=F.context("tagList");if(r){var n=e.render({tagList:r,className:"level-3-tag-sort"});g.find(".char-sor-tag-container").html(n)}});
;define("list:widget/uadmin/uadmin.js",function(i){i("common:widget/js/util/tangram/tangram.js")});