define("common:widget/js/ui/pager/pagerBase.js",function(t,n,e){function o(t,n){if(!u(n.pContainer))throw new Error('[pagerBase Exception]: Invalid argument "pContainer".');if(!n.conTotalCount||isNaN(n.conTotalCount)||Number(n.conTotalCount)<1)throw new Error('[pagerBase Exception]: Invalid argument "conTotalCount".');if(n.onIndexChange&&"function"!=typeof n.onIndexChange)throw new Error('[pagerBase Exception]: Invalid argument "onIndexChange".');t.conTotalCount=parseInt(n.conTotalCount)||0,t.pContainer=u("string"==typeof n.pContainer?"#"+n.pContainer:n.pContainer),t.conPerPage=parseInt(n.conPerPage)||t.conTotalCount,t.pTotalCount=Math.ceil(t.conTotalCount/t.conPerPage)||0,t.pMaxCount=parseInt(n.pMaxCount)||t.pTotalCount,t.pCount=Math.min(n.pMaxCount,t.pTotalCount),t.activeIndex=parseInt(n.activeIndex)||1,t.stopEvt="boolean"==typeof n.stopEvt?n.stopEvt:!1}function a(t,n,e){return{type:t,index:n,state:e}}function i(t,n){n.push(a("active",t.activeIndex,"disabled"))}function p(t){if(isNaN(parseInt(t.activeIndex))||t.activeIndex<1||t.activeIndex>t.pTotalCount)throw new Error("[pagerBase Exception]: Invalid activeIndex.");var n,e;switch(t.pCount){case 1:n=e=t.activeIndex;break;case 2:n=t.activeIndex==t.pTotalCount?t.pTotalCount-1:t.activeIndex,e=n+1;break;default:n=t.activeIndex-Math.ceil((t.pCount-2)/2)+1,2>n?n=2:n>t.pTotalCount-t.pCount+2&&(n=t.pTotalCount-t.pCount>0?t.pTotalCount-t.pCount+2:2),e=n+t.pCount-3<t.pTotalCount?n+t.pCount-3:t.pTotalCount-1}var o=[];o.push(a.apply(null,1==t.activeIndex?["previous",1,"disabled"]:["previous",t.activeIndex-1,"normal"])),t.pCount>2&&(1==t.activeIndex?i(t,o):o.push(a("normal",1,"normal"))),(n>2||t.pCount<3&&n>1)&&o.push(a("ellipsis",void 0,"disabled"));for(var p=n;e>=p;++p)t.activeIndex==p?i(t,o):o.push(a("normal",p,"normal"));return(t.pTotalCount-e>1||t.pCount<3&&t.pTotalCount>e)&&o.push(a("ellipsis",void 0,"disabled")),t.pCount>2&&t.pTotalCount>1&&(t.activeIndex==t.pTotalCount?i(t,o):o.push(a("normal",t.pTotalCount,"normal"))),o.push(a.apply(null,t.activeIndex==t.pTotalCount?["next",t.pTotalCount,"disabled"]:["next",t.activeIndex+1,"normal"])),{activeIndex:t.activeIndex,previous:o.shift(),next:o.pop(),others:o}}function r(t){var n=this;t&&(o(this,t),u(this.pContainer).unbind("click.pagerBase").on("click.pagerBase","[pagerIndex]",function(t){try{n.activeIndex=parseInt(u(this).attr("pagerIndex")),n.stopEvt&&u.stopPropagation(),n.onIndexChange&&n.onIndexChange(p(n),t)}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"common:widget/js/ui/pager/pagerBase.js",method:"",ln:188})}}))}var u=t("common:widget/lib/jquery/jquery.js");r.prototype={constructor:r,getPagers:function(t){return this.activeIndex="undefined"==typeof t?this.activeIndex:t,p(this)},getActiveIndex:function(){return this.activeIndex},getPagerTotalCount:function(){return this.pTotalCount},baseReset:function(t){if(!t)throw new Error("[pagerBase Exception]: Invalid reset arguments.");t.pContainer=this.pContainer,t.conTotalCount="undefined"==typeof t.conTotalCount?this.conTotalCount:t.conTotalCount,t.conPerPage="undefined"==typeof t.conPerPage?this.conPerPage:t.conPerPage,t.pMaxCount="undefined"==typeof t.pMaxCount?this.pMaxCount:t.pMaxCount,t.activeIndex="undefined"==typeof t.activeIndex?this.activeIndex:t.activeIndex,t.stopEvt="boolean"==typeof t.stopEvt?t.stopEvt:this.stopEvt,t.onIndexChange=t.onIndexChange||this.onIndexChange,o(this,t),this.activeIndex=Math.min(this.activeIndex,this.pTotalCount)},baseDestroy:function(){u(this.pContainer).off("click.pagerBase")}},e.exports=r});