define("question:widget/js/editor/config/config.js",function(i,t,o){var e=(i("common:widget/js/util/tangram/tangram.js"),i("common:widget/js/util/uri/uri.js"),"1"==F.context("user").isLogin),a="1"==F.context("page").isAdopted,n=!!window.isQualityView,r=F.context("page").supply,s=[["fullscreen","bold","italic","paragraph","|","insertorderedlist","insertunorderedlist","blockquote","|","insertimageplus","insertvideo","insertmap"]];74==F.context("page").cidTop&&s[0].push("|","insertcode");var d={txttip:["\u8be5\u63d0\u95ee\u6c42\u52a9\u53d1\u81ea\u624b\u673a\uff0c\u8bf7\u7cbe\u7b80\u56de\u7b54\uff0c\u65b9\u4fbf\u67e5\u770b","\u8bf7\u8f93\u5165\u60a8\u7684\u56de\u7b54...","\u63d0\u95ee\u8005\u6b63\u5728\u7b49\u5f85\u60a8\u7684\u56de\u7b54","\u8bf7\u8f93\u5165\u60a8\u7684\u56de\u7b54...","\u8be6\u7ec6\u7684\u95ee\u9898\u8bf4\u660e\uff0c\u6709\u52a9\u4e8e\u56de\u7b54\u8005\u7ed9\u51fa\u51c6\u786e\u7684\u7b54\u6848","1.\u6b65\u9aa4\u7c7b\uff1a\u2460\u6574\u4f53\u7b80\u4ecb\u2461\u6240\u9700\u5de5\u5177/\u539f\u6599\u2462\u65b9\u6cd5/\u6b65\u9aa4\u2463\u6ce8\u610f\u4e8b\u9879<br>2.\u5e38\u8bc6\u7c7b\uff1a\u2460\u76f4\u63a5\u56de\u7b54\u95ee\u9898\u2461\u8be6\u7ec6\u7ed9\u51fa\u5177\u4f53\u539f\u56e0/\u7406\u7531/\u4ecb\u7ecd<br>3.\u539f\u56e0\u7c7b\uff1a\u2460\u8be6\u7ec6\u89e3\u91ca\u539f\u56e0/\u7406\u7531\u2461\u63d0\u4f9b\u6709\u6548\u89e3\u51b3\u65b9\u6848\uff08\u6784\u6210\u89c1\u6b65\u9aa4\u7c7b\uff09<br>4.\u5176\u4ed6\u7c7b\u578b\u8be6\u89c1\u9ad8\u8d28\u91cf\u6807\u51c6\uff08\u70b9\u51fb\u56de\u7b54\u6846\u53f3\u4fa7\u56fe\u7247\uff09"],refertip:["\u5982\u679c\u60a8\u7684\u56de\u7b54\u662f\u4ece\u5176\u4ed6\u5730\u65b9\u5f15\u7528\uff0c\u8bf7\u8868\u660e\u51fa\u5904","\u60a8\u63d0\u4ea4\u7684\u53c2\u8003\u8d44\u6599\u8d85\u8fc750\u5b57\uff0c\u8bf7\u5220\u9664"],modify:!1,curEditor:null,hostname:"http://zhidao.baidu.com",errorClew:["\u8bf7\u60a8\u8f93\u5165\u6587\u5b57\u5185\u5bb9"],logNum:"2014"},l={optionList:d,wangpanLoaderJs:"//pan.baidu.com/res/static/js/buss/widget_loader.js",editorStyles:{answer:{toolbars:s,isnewtipshow:!0,maximumWords:9999,initialContent:n?d.txttip[5]:e?a?d.txttip[3]:d.txttip[1]:d.txttip[2],isLogin:e,addons:{authcode:"new_reply",submitBtn:"\u63d0\u4ea4\u56de\u7b54",anonymouse:!0}},modifyanswer:{toolbars:s,maximumWords:9999,initialContent:"",title:"\u5b8c\u5584\u6211\u7684\u56de\u7b54\uff1a",addons:{authcode:"new_reply",submitBtn:"\u63d0\u4ea4\u4fee\u6539"}},pumpanswer:{toolbars:s,maximumWords:999,initialContent:"\u7ee7\u7eed\u56de\u7b54\u63d0\u95ee\u8005\u7684\u8ffd\u95ee\uff0c\u5373\u53ef\u83b7\u5f972\u7ecf\u9a8c\u503c\u548c2\u8d22\u5bcc\u503c\u5956\u52b1",title:"\u7ee7\u7eed\u56de\u7b54\uff1a",addons:{submitBtn:"\u63d0\u4ea4\u56de\u7b54",authcode:"add_reply"}},appendask:{maximumWords:199,initialContent:"",title:"\u7ee7\u7eed\u8ffd\u95ee\uff1a",addons:{submitBtn:"\u63d0\u4ea4\u8ffd\u95ee",authcode:"add_ask"}},modifyask:{maximumWords:199,initialContent:"",title:"\u4fee\u6539\u8ffd\u95ee\uff1a",addons:{submitBtn:"\u63d0\u4ea4\u4fee\u6539",authcode:"add_ask"}},moreanswer:{toolbars:[["insertimage"]],maximumWords:499,initialContent:r?"":d.txttip[4],addons:{submitBtn:"\u786e\u5b9a",authcode:"new_post"}}},fileErrorNum:{0:"\u8bf7\u7b49\u5f85\u9644\u4ef6\u4e0a\u4f20\u5b8c\u6210",1:"\u9644\u4ef6\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\u6216\u8005\u5220\u9664"},extraParam:{qid:F.context("page").qid}},p=null;p=['body{margin:0;padding:16px 18px;font:16px/20px "PingFang SC", "Lantinghei SC", "Microsoft YaHei", arial, "b8bf53", sans-serif, tahoma;cursor:text;font-family:"Microsoft YaHei",arial,courier new,courier,"b8bf53",monospace;}',"p{margin:0;padding:0;cursor:text;word-wrap:break-word;line-height:29px;}","p img{vertical-align:bottom;*vertical-align:-3px;}","p:first-child{margin-top: 0}","img{border:0;}","img{border-radius: 3px;-moz-border-radius: 3px;-webkit-border-radius:3px;}","img{max-width: 500px;max-height:340px;display:block;margin:-5px 0;}","iframe{width:430px;height:310px;border:1px solid #ccc;}","#initContent{color:#ccc;}","ol,ul{margin: 0 0 0 19px !important; padding: 0;}","ol{*margin-left:2px;}","ol p,ul p{margin: 0;}","li{line-height: 29px;}","body.view{padding:6px 8px;}","strong{font-weigth:bold;}","em{font-style:normal;font-style: italic;}","p{margin: 26px 0;}","strong em, em strong{font-style: italic;}","blockquote{margin:0;border-left:5px solid #dae0e4;padding-left:20px;color:#888;}","h2{font-size:16px;}","::-webkit-scrollbar{display:none;}"],l.initialStyle=p.join(""),l.listDefaultPaddingLeft=0,o.exports=l});
;define("question:widget/js/editor/editor.js",function(e,t,i){var o=e("common:widget/js/util/tangram/tangram.js"),n=e("common:widget/js/logic/editor/editor.js"),r=e("common:widget/js/logic/editor/prototype/prototype.js"),s=e("common:widget/js/logic/editor/addon/addon.js"),d=e("question:widget/js/editor/config/config.js"),a=(e("common:widget/js/ui/tip/tip.js"),e("common:widget/js/ui/dialog/dialog.js"),e("common:widget/js/util/event/event.js"),e("common:widget/js/ui/base/base.js"));e("common:widget/lib/jquery.placeholder/jquery.placeholder.js"),o.extend(!0,n.config,d);var c=a().extend({init:function(e){function t(e){for(var t=["iqiyi","letv","youku","tudou"],i=0,o=t.length;o>i;i++)if(-1!==e.search(t[i]))return!0;return/baidu(\S*)\.com\/watch/.test(e)?!0:!1}function i(){var e=0,i=a.find(".edui-editor-toolbarbox"),n=['<div id="insert-video-wp" class="insert-video-wp">','<div class="insert-video-arrow"></div>','<div class="insert-video">','<label><input id="insert-video-url" type="text" placeholder="\u8bf7\u76f4\u63a5\u8f93\u5165\u89c6\u9891\u64ad\u653e\u9875\u5730\u5740"><a id="insert-video-btn">\u63d2\u5165\u89c6\u9891</a></label>','<div id="insert-video-info" class="info">\u76ee\u524d\u652f\u6301\u4f18\u9177\u3001\u571f\u8c46\u3001\u7231\u5947\u827a\u3001\u4e50\u89c6\u3001\u767e\u5ea6\u89c6\u9891\u7b49\u89c6\u9891\u7f51\u7ad9\u94fe\u63a5</div>',"</div>","</div>"].join("");i.append(n),o("#insert-video-url").placeholder(),c.addListener("showvideo",function(){o("#insert-video-wp").addClass("show")}),c.addListener("focus",function(){o("#insert-video-wp").removeClass("show")}),o("#insert-video-wp").on("click",function(e){try{e.stopPropagation()}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/js/editor/editor.js",method:"",ln:116})}}),o("#insert-video-btn").on("click",function(){try{var i=o("#insert-video-url").val();if(e)return 0;if(!t(i))return 1;e=1,o.post("/api/checkvideo",{videourl:i},function(t){return e=0,t?0===t.errno?(o("#insert-video-info").removeClass("error").html("\u76ee\u524d\u652f\u6301\u4f18\u9177\u3001\u571f\u8c46\u3001\u7231\u5947\u827a\u3001\u4e50\u89c6\u3001\u767e\u5ea6\u89c6\u9891\u7b49\u89c6\u9891\u7f51\u7ad9\u94fe\u63a5"),c.execCommand("insertvideo",{type:t.data.type,img:t.data.img,swf:t.data.swf,src:t.data.src,title:t.data.title,time:t.data.time,def:t.data.def,itemid:t.data.itemid}),o("#insert-video-wp").removeClass("show"),1):1===t.errno?(o("#insert-video-info").addClass("error").html("\u5bf9\u4e0d\u8d77\uff0c\u60a8\u8f93\u5165\u7684\u89c6\u9891\u64ad\u653e\u9875\u94fe\u63a5\u65e0\u6548\uff0c\u8bf7\u91cd\u8bd5\u3002"),1):3===t.errno?(o("#insert-video-info").addClass("error").html("\u63d0\u793a\uff1a\u6682\u4e0d\u652f\u6301\u8be5\u7f51\u7ad9\u7684\u64ad\u653e\u9875\u5730\u5740\uff0c\u8bf7\u76f4\u63a5\u4f7f\u7528\u89c6\u9891\u5730\u5740\u3002"),3):(o("#insert-video-info").addClass("error").html("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5"),4):0})}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message,path:"question:widget/js/editor/editor.js",method:"",ln:171})}}),o("#insert-video-url").on("change",function(){t(o(this).val())?o("#insert-video-info").removeClass("error").html("\u76ee\u524d\u652f\u6301\u4f18\u9177\u3001\u571f\u8c46\u3001\u7231\u5947\u827a\u3001\u4e50\u89c6\u3001\u767e\u5ea6\u89c6\u9891\u7b49\u89c6\u9891\u7f51\u7ad9\u94fe\u63a5"):o("#insert-video-info").addClass("error").html("\u63d0\u793a\uff1a\u6682\u4e0d\u652f\u6301\u8be5\u7f51\u7ad9\u7684\u64ad\u653e\u9875\u5730\u5740\uff0c\u8bf7\u76f4\u63a5\u4f7f\u7528\u89c6\u9891\u5730\u5740\u3002")}),o("body").on("click",function(e){try{-1===e.target.className.search("edui-box")&&(o("#insert-video-wp").removeClass("show"),o(".insert-image-plus-wp").hide())}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/js/editor/editor.js",method:"",ln:184})}})}try{var r=this,a=o("#"+r.id);if(!a.size())return;r.style=d.editorStyles[r.type],r.conf&&o.extend(!0,r.style,r.conf);var c=new n(r.style);r.container=a.get(0),c.render(r.container),r.instance=c,r.config=d,s.init(r),c.container.style.width="",c.ui.getDom("iframeholder").style.width="",r.afterInit(),e.content&&r.setContent(e.content),i()}catch(l){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:l.message,path:"question:widget/js/editor/editor.js",method:"",ln:188})}},editorSubmit:function(){var e=this;e.config.optionList.modify=!1;var t=null,i=e.instance.getContent();return i=i.replace(/^((&nbsp;|\s)*\<p\>)(&nbsp;|\s)+/g,function(){return"<p>"}).replace(/(&nbsp;|\s)+(\<\/p\>(&nbsp;|\s)*)$/g,function(){return"</p>"}).replace(/(&nbsp;|\s)*(\<br\>|\<br\s*\/\>)(&nbsp;|\s)+/g,function(){return"<br/>"}).replace(/(&nbsp;|\s)*<p>(&nbsp;|\s)+/g,function(){return"<p>"}),t={co:e.uploadFile(e.filterHighlight(e.filterMapClew(i))),cite:"",rich:1},e.authcode&&e.authcode.submitParam(t),e.anonymouse&&e.anonymouse.prop("checked")&&(t.anoy=1),e.fire("editorSubmit"),t}});c.extend(r),i.exports=c});
;define("question:widget/ask/replyer/replyer.js",function(e){function t(){var e=a(".layerBg"),t=a("#edui1"),i=t.width()-2,n=t.height()-2,o="height:"+n+"px;width:"+i+"px";if(e.length)e.attr("style",o).show();else{var r=a("<div style='"+o+"' class='layerBg'></div>"),s=a("<span class='loading-layer'></span>");t.append(r,s)}}function i(e,t){if(a(".loading-layer").hide(),a(".layerBg").hide(),a("."+e).length)a("."+e).show();else{var i=a("#edui1"),n=i.width()-2,o=(i.height()-2,a("<div class='tipLayer'></div>"));i.append(o);var r=a(".tipLayer");r.attr("class","tipLayer "+e).html("<span class='icon'></span><div>"+t+"</div>"),r.css("margin-left",(n-a(".tipLayer").width())/2+"px")}}function n(e){if(e.preventDefault(),!h){h=!0,setTimeout(function(){h=!1},1e3);var n={cm:100009,qid:F.context("page").qid,title:F.context("extra").title,answerfr:F.context("extra").answerfr,entry:F.context("extra").entry};if(0==F.context("user").isNew&&0!=a.cookie.get("IK_FORCE_UHOME")&&a.cookie.set("IK_FORCE_UHOME","0",{expires:31536e6,path:"/"}),l.checkEditor()){a.extend(n,l.editorSubmit());var o="";n.co&&n.co.match(/<strong>/)&&n.co.match(/<em>/)?o="both":n.co&&n.co.match(/<strong>/)?o="replyBold":n.co&&n.co.match(/<em>/)&&(o="replyRed"),r.send({type:2014,page:"question",action:"answer",privilegeSubmit:o,uid:F.context("user").uid}),t(),s.fire("login.check",{isLogin:function(e){function t(){new c({params:n,hasJump:!1,syncId:l.type,jumpSubmitDelay:4500,beforeJump:function(e,t){i("success-tip","\u60a8\u7684\u56de\u7b54\u5df2\u63d0\u4ea4\u6210\u529f"),0==F.context("user").isNew&&0==F.context("user").isHaveCid&&a.ajax({type:"post",url:"/submit/user",data:{cm:100522,word:F.context("page").cid,stoken:F.context("user").stoken}}),setTimeout(function(){var e=location.href;if(e.indexOf("hideOtherAnswer")<0)if(e.indexOf("?")>0)location.href=e+="&hideOtherAnswer=true&newAnswer=1";else if(e.indexOf("#")>0){var t=e.substring(0,e.indexOf("#"));location.href=t+="?hideOtherAnswer=true&newAnswer=1"}else location.href=e+="?hideOtherAnswer=true&newAnswer=1"},2e3),r.send({module:"question",page:"reply-question",area:"submit",action:"submit-success",ncAnalyseCode:d.ncAnalyseCode,rid:t.aid,qid:F.context("page").qid})},beforeError:function(){a(".loading-layer").hide(),a(".layerBg").hide()},authcode:l.authcode||null})}var o={tn:"ikqb",qid:F.context("page").qid,user:F.context("user").name,referrer:encodeURIComponent(document.referrer)},d={};r.stat(a.url.jsonToQuery(o)),1===e.isRealName&&0===a("#passport-accRealName-pop").length?s.fire("login.realName",{onHide:function(){a(".loading-layer").hide(),a(".layerBg").hide()},onSubmitSuccess:function(){window.nccheck?nccheck(function(e){d.ncAnalyseCode=e&&e.code,t()}):t()}}):1===e.isRealName&&a("#passport-accRealName-pop").length>0?(a("#passport-accRealName-pop").show(),a("body").children("div:first-child").show(),a("#passport-accRealName-pop").is(":hidden")?(a(".loading-layer").hide(),a(".layerBg").hide()):(a(".loading-layer").show(),a(".layerBg").show())):window.nccheck?nccheck(function(e){d.ncAnalyseCode=e&&e.code,t()}):t()},noLogin:function(){s.fire("login.log",{onLoginSuccess:function(e){e&&(F.context("user").stoken=e.stoken),1===e.isRealName?(a(".loading-layer").hide(),a(".layerBg").hide()):new c({params:n,hasJump:!1,syncId:l.type,beforeJump:function(){i("success-tip","\u60a8\u7684\u56de\u7b54\u5df2\u63d0\u4ea4\u6210\u529f"),setTimeout(function(){var e=location.href;if(e.indexOf("hideOtherAnswer")<0)if(e.indexOf("?")>0)location.href=e+="&hideOtherAnswer=true";else if(e.indexOf("#")>0){var t=e.substring(0,e.indexOf("#"));location.href=t+="?hideOtherAnswer=true"}else location.href=e+="?hideOtherAnswer=true"},2e3)},beforeError:function(){a(".loading-layer").hide(),a(".layerBg").hide()},authcode:l.authcode||null})}})}})}}}var a=e("common:widget/js/util/tangram/tangram.js"),o=e("question:widget/js/editor/editor.js"),r=e("common:widget/js/util/log/log.js"),s=e("common:widget/js/util/event/event.js"),c=e("common:widget/js/logic/submit/submit.js");e("question:widget/js/app-guide/app-guide.js");a("#answer-editor");_controller=a("#answer-bar"),_arrow=a("#answer-bar i").get(0);var d={ql:/browse(?:\/\d+(?:$|\?lm=2|\?[^lm])|$|\/$|\/\?lm=2)/i,ql_tab_hscore:/browse\/\d*\?lm\=4/,ql_tab_zero:/browse\/\d*\?lm\=8/,ql_tab_emergency:/browse\/\d*\?lm\=16/,zhuanti:/zhidao\.baidu\.com\/s\/([a-zA-Z0-9_\-]+)/,search:/zhidao\.baidu\.com\/search/};!function(){var e,t=document.referrer,i="";for(var n in d)if(e=t.match(d[n])){i=n;break}if(i&&"zhuanti"==i&&(i=e[1]),!i){var o=a.url.queryToJson(location.search||"");o&&"uc_push"==o.fr&&(i="keyword"==o.push?"uc_tab_keyword":"category"==o.push?"uc_tab_class":"uc_tab_recommand")}var r=F.context("page").isFromWap,s=i+(parseInt(r)?";wap_question_replyed":"");F.context("extra",{title:s,answerfr:s})}();var l=null,u={type:"answer",id:"answer-editor"};s.once("editor.focus",function(){r.send({pid:102,qid:F.context("page").qid,uid:F.context("user").uid,time:(new Date).getTime(),action:"new-reply",page:"question-new-reply",type:2015})}),_controller.click(function(){try{null===l&&(l=new o(u),a(l.submitBtn).click(n),l.once("editorSubmit",function(){l.instance.ui.setFullScreen(!1)})),"i-incline-down"==_arrow.className?(l.expandEditor(290),_arrow.className="i-incline-up",a(".wgt-search-relate, .search-relate").show()):(l.collapseEditor(290),_arrow.className="i-incline-down",a(".wgt-search-relate, .search-relate").hide())}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/ask/replyer/replyer.js",method:"",ln:106})}}),function(){var e={home:/zhidao\.baidu\.com\/$/,browse:/zhidao\.baidu\.com\/browse/,ihome:/zhidao\.baidu\.com\/ihome(?!\/hangjia)/,qb:/zhidao\.baidu\.com\/question/,hangjia:/zhidao\.baidu\.com\/ihome\/hangjia\/index/,team:/zhidao\.baidu\.com\/team/},t=location.href,i=document.referrer,n=a.url.getQueryValue(t,"entry")||"";if(""==n){for(var o in e)if(i.match(e[o])){n="qb_"+o+"_none";break}n=""==n?"qb_none_none":n}F.context("extra").entry=n}();var h=!1;!function(){if(F.context("page").relatedKeyword)return void(window.isQualityView&&a("#answer-bar").hide());var e=a("<a/>").html("<span></span>\u641c\u7d22\u76f8\u5173\u8d44\u6599").addClass("mb-5 mt-15 search-relate").attr("href","http://www.baidu.com/s?wd="+encodeURIComponent(F.context("page").title)+"&ie=utf-8").attr("target","_blank").hide().insertBefore("#answer-bar"),t={type:"2014",page:"question-search-relate",user:F.context("user").name,qid:F.context("page").qid,testcase:4,isQ:!!window.isQualityView};r.send(a.extend({action:"pv"},t)),e.click(function(){try{r.send(a.extend({action:"click"},t))}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message,path:"question:widget/ask/replyer/replyer.js",method:"",ln:410})}})}(),("1"!=F.context("page").isView||"1"==F.context("isForAnswerHq")||"1"==F.context("isForceAnswer"))&&a(function(){a("#answer-editor").css({visibility:"hidden",height:"0px"}),_controller.click()})});